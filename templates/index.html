<!DOCTYPE html>
<html>
<head>
    <title>Iconostasis</title>
   <link rel="stylesheet" type="text/css" href="/static/css/style.css?v=3">
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">
</head>
<body>

<!-- Navigation -->
<div class="navbar">
    <div class="nav-left">
        <h2 class="site-title">Iconostasis</h2>
        <a href="/">Home</a>
        <a href="/upload">Upload</a>
    </div>

    <div class="nav-right">
        {% if user %}
            <div class="username-display">
                Logged in as <a href="/user/{{ user.username }}" style="font-weight: bold;" >{{ user.display_name }}</a>
            </div>
            <a href="/logout">Logout</a>
        {% else %}
            <a href="/login">Login</a>
            <a href="/signup">Register</a>
        {% endif %}
    </div>
</div>



<div class="container">
    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
        <button id="sidebarToggle" class="toggle-btn">â˜°</button>

        <form method="get" action="/" class="sidebar-content">
            <h3>Filters</h3> 
            <label>Saint:</label><br>
            <input type="text" name="saint" placeholder="e.g. St. George" value="{{ saint|default('') }}"><br><br>

            <label>Tradition:</label><br>
            <select name="tradition_id">
                <option value="0">All</option>
                {% for tradition in traditions %}
                    <option value="{{ tradition.id }}" {% if tradition.id|string == selected_tradition %}selected{% endif %}>
                        {{ tradition.name }}
                    </option>
                {% endfor %}
            </select><br><br>

            <label>Century:</label><br>
            <input type="text" name="century" placeholder="e.g. 12th Century" value="{{ century|default('') }}"><br><br>

            <label>Region:</label><br>
            <input type="text" name="region" placeholder="e.g. Byzantium" value="{{ region|default('') }}"><br><br>

            <input type="submit" value="Filter">
        </form>
    </aside>

    <!-- Main content -->
    <div class="main">
        {% for icon in icons %}
            <div class="icon-card">
                <a href="/icon/{{ icon.id }}">
                    <img src="{{ icon.image_url }}" alt="{{ icon.title }}">
                    <p>{{ icon.title }}</p>
                </a>
            </div>
        {% endfor %}
    </div>
</div>

<script src="/static/js/sidebar.js"></script>   

</body>
</html>

